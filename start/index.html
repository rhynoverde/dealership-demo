<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dealership Demo</title>
  <link rel="stylesheet" href="start.css" />
  <!-- Include Cropper.js CSS -->
  <link href="https://cdn.jsdelivr.net/npm/cropperjs@1.5.12/dist/cropper.min.css" rel="stylesheet">
</head>
<body>
  <div class="container">
    <!-- Header (optional logo can be added) -->
    <div class="header">
      <!-- Uncomment the next line and update the src if you have a logo -->
      <!-- <img src="your-logo.png" alt="Dealership Logo" class="logo"> -->
      <h1>Share Your Review Image</h1>
    </div>

    <!-- Step 1: Customer Info -->
    <section id="step1" class="step active">
      <div class="form-section">
        <h2>Customer Information</h2>
        <form id="customerForm">
          <label for="customerName">Customer Name</label>
          <input type="text" id="customerName" name="customerName" placeholder="First Name" required />

          <label for="customerEmail">Email (optional)</label>
          <input type="email" id="customerEmail" name="customerEmail" placeholder="example@example.com" />

          <label for="customerPhone">Phone Number (optional, recommended)</label>
          <input type="tel" id="customerPhone" name="customerPhone" placeholder="(555) 555-5555" />

          <button type="button" id="toStep2">Next</button>
        </form>
      </div>
    </section>

    <!-- Step 2: Photo Selection & Cropping -->
    <section id="step2" class="step">
      <div class="form-section">
        <h2>Vehicle Photo</h2>
        <div class="photo-options">
          <button type="button" class="photo-option" data-option="take">Take Photo</button>
          <button type="button" class="photo-option" data-option="upload">Upload Photo</button>
          <button type="button" class="photo-option" data-option="url">Paste Image URL</button>
        </div>

        <!-- Take Photo Section -->
        <div id="takePhotoSection" class="photo-section" style="display:none;">
          <p>Frame the vehicle in the square below. (Customer may or may not be in the shot.)</p>
          <div id="cameraContainer">
            <video id="cameraPreview" autoplay playsinline></video>
            <!-- You can optionally include an overlay here if desired -->
          </div>
          <button type="button" id="capturePhoto">Capture Photo</button>
          <button type="button" class="backToOptions">Back</button>
        </div>

        <!-- Upload Photo Section -->
        <div id="uploadPhotoSection" class="photo-section" style="display:none;">
          <p>Please choose a photo to upload:</p>
          <label for="uploadInput" class="input-label">Select Photo</label>
          <input type="file" id="uploadInput" accept="image/*" />
          <button type="button" class="backToOptions">Back</button>
        </div>

        <!-- Paste URL Section -->
        <div id="urlPhotoSection" class="photo-section" style="display:none;">
          <p>Please enter the image URL:</p>
          <label for="imageUrlInput" class="input-label">Image URL</label>
          <input type="url" id="imageUrlInput" placeholder="https://example.com/photo.jpg" />
          <button type="button" id="loadUrlImage">Load Image</button>
          <button type="button" class="backToOptions">Back</button>
        </div>

        <!-- Cropping Section -->
        <div id="cropSection" class="photo-section" style="display:none;">
          <p>Adjust the photo inside the square. Pan/zoom to select the best area.</p>
          <div id="cropContainer">
            <img id="cropImage" src="" alt="To be cropped" />
          </div>
          <button type="button" id="cropButton">Crop</button>
          <button type="button" id="changePhoto">Change Photo</button>
        </div>

        <!-- Preview Cropped Image Section -->
        <div id="previewSection" class="photo-section" style="display:none;">
          <p>Preview your cropped image:</p>
          <img id="previewImage" src="" alt="Cropped Preview" />
          <button type="button" id="confirmPhoto">Confirm Photo</button>
          <button type="button" id="recropFromPreview">Recrop</button>
          <button type="button" id="changePhotoFromPreview">Change Photo</button>
        </div>
      </div>
    </section>

    <!-- Step 3: Shortlink & Sharing -->
    <section id="step3" class="step">
      <div class="form-section">
        <h2>Share the Link</h2>
        <p class="shortlink-label">Your shortlink:</p>
        <div id="shortLink" class="shortlink">justshar.ing/xyz</div>
        <!-- Smaller copy link button below the shortlink -->
        <button type="button" id="copyLink" class="copy-link-btn">Copy Link</button>
        <p class="message-label">Prefilled Message:</p>
        <textarea id="prefilledMessage" rows="6"></textarea>
        <div class="share-buttons">
          <button type="button" id="textLink">Text Link</button>
          <button type="button" id="emailLink">Email Link</button>
          <button type="button" id="bothLink">Text & Email</button>
          <button type="button" id="showQR">Show QR Code</button>
          <button type="button" id="copyMessage">Copy Message</button>
        </div>
        <div id="qrCode" style="display:none;" class="qr-container">
          <p>Scan the QR Code:</p>
          <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=justshar.ing/xyz" alt="QR Code" />
        </div>
        <button type="button" id="startOver" class="start-over">Start Over</button>
      </div>
    </section>
  </div>

  <!-- Include Cropper.js Library -->
  <script src="https://cdn.jsdelivr.net/npm/cropperjs@1.5.12/dist/cropper.min.js"></script>
  <script src="start.js"></script>
</body>
</html>
